# UX 설계 문서
## 3D 주사위 굴리기 웹 애플리케이션

---

## 1. 사용자 페르소나

### 주요 사용자 1: 캐주얼 게이머 - 민지
- **이름**: 민지 (25세)
- **직업**: 대학생
- **특성**:
  - 보드게임을 즐기지만 실물 주사위가 없을 때가 많음
  - 모바일과 데스크톱을 자유롭게 넘나듦
  - 간단하고 직관적인 인터페이스를 선호
  - 시각적으로 재미있는 경험을 원함
- **목표**:
  - 친구들과 온라인으로 게임할 때 빠르게 주사위를 굴려서 결과를 공유하고 싶음
  - 실제 주사위를 굴리는 것처럼 현실감 있는 경험을 원함
- **Pain Points**:
  - 기존 주사위 앱들은 너무 단순하거나 복잡함
  - 애니메이션이 너무 길어서 답답함
  - 모바일에서 버튼이 작아서 터치하기 어려움

### 주요 사용자 2: 교육자 - 준호 선생님
- **이름**: 준호 (35세)
- **직업**: 초등학교 교사
- **특성**:
  - 수업 중 확률과 통계를 가르칠 때 시각 자료 필요
  - 대형 모니터나 프로젝터로 화면을 투영함
  - 기술에 익숙하지 않아 복잡한 설정을 싫어함
- **목표**:
  - 학생들에게 무작위성과 확률을 시각적으로 보여주고 싶음
  - 빠르고 반복적으로 주사위를 굴려서 패턴을 설명하고 싶음
- **Pain Points**:
  - 복잡한 설치나 설정이 필요한 앱은 수업 전 준비가 어려움
  - 광고나 방해 요소가 있으면 수업 흐름이 끊김
  - 결과가 명확하게 보이지 않으면 학생들이 집중하지 못함

### 주요 사용자 3: 개발자/테스터 - 수진
- **이름**: 수진 (28세)
- **직업**: 소프트웨어 개발자
- **특성**:
  - 랜덤 테스트 데이터가 필요할 때가 많음
  - 키보드 단축키를 선호함
  - 빠르고 효율적인 도구를 선호
- **목표**:
  - 개발 중 빠르게 랜덤 값을 생성하고 싶음
  - 브라우저 탭 하나로 간편하게 사용하고 싶음
- **Pain Points**:
  - 매번 콘솔에서 Math.random()을 실행하기 번거로움
  - 시각적 피드백이 없어서 결과를 놓칠 때가 있음

---

## 2. 사용자 플로우

### 메인 플로우: 주사위 굴리기
```
[앱 진입]
    ↓
[3D 주사위 표시됨]
    ↓
[사용자가 "주사위 굴리기" 버튼 클릭/터치]
    ↓
[버튼 비활성화] ← (중복 클릭 방지)
    ↓
[주사위 회전 애니메이션 시작 (1-2초)]
    ↓
[애니메이션 종료 - 결과 면이 위로 향함]
    ↓
[결과 숫자 텍스트로 표시 (예: "결과: 5")]
    ↓
[버튼 재활성화]
    ↓
[다시 굴리기 가능] → [반복]
```

### 에러 플로우: WebGL 미지원
```
[앱 진입]
    ↓
[WebGL 지원 확인]
    ↓
[미지원 감지]
    ↓
[에러 메시지 표시]
    ├─ "이 브라우저는 WebGL을 지원하지 않습니다"
    └─ "Chrome, Firefox, Safari 최신 버전을 사용해주세요"
    ↓
[앱 사용 불가]
```

### 키보드 접근성 플로우
```
[Tab 키로 버튼 포커스]
    ↓
[Enter 또는 Space 키 누름]
    ↓
[주사위 굴리기 실행]
    ↓
[포커스 유지됨]
    ↓
[다시 Enter/Space로 재실행 가능]
```

---

## 3. 화면 구성 (와이어프레임)

### 3.1 데스크톱 레이아웃 (1024px 이상)
```
+----------------------------------------------------------+
|                    3D Dice Roller                         |
|                  (로고/타이틀 - 중앙)                        |
+----------------------------------------------------------+
|                                                           |
|                                                           |
|                    [3D 주사위 영역]                         |
|                   (화면의 70% 높이)                         |
|                                                           |
|                  Three.js 캔버스 영역                       |
|                  - 배경: 그라데이션                          |
|                  - 주사위: 중앙 배치                         |
|                  - 조명: 상단/측면                          |
|                                                           |
+----------------------------------------------------------+
|                    컨트롤 패널 영역                          |
|                   (화면의 30% 높이)                         |
|                                                           |
|              +-------------------------+                  |
|              |   주사위 굴리기 버튼      |                  |
|              |   (큰 버튼, 중앙 배치)   |                  |
|              +-------------------------+                  |
|                                                           |
|                    결과: 5                                 |
|              (큰 폰트, 버튼 아래 표시)                       |
|                                                           |
+----------------------------------------------------------+
|          Made with Three.js & React | v1.0               |
|                  (작은 푸터)                               |
+----------------------------------------------------------+
```

### 3.2 태블릿 레이아웃 (768px - 1023px)
```
+----------------------------------------+
|         3D Dice Roller                 |
+----------------------------------------+
|                                        |
|                                        |
|        [3D 주사위 영역]                 |
|         (화면의 65%)                    |
|                                        |
|                                        |
+----------------------------------------+
|        컨트롤 패널 영역                  |
|        (화면의 35%)                     |
|                                        |
|    +-------------------------+         |
|    |   주사위 굴리기 버튼      |         |
|    +-------------------------+         |
|                                        |
|            결과: 3                      |
|                                        |
+----------------------------------------+
|            Footer                      |
+----------------------------------------+
```

### 3.3 모바일 레이아웃 (320px - 767px)
```
+------------------------+
|   3D Dice Roller       |
+------------------------+
|                        |
|                        |
|   [3D 주사위 영역]      |
|    (화면의 60%)         |
|                        |
|                        |
+------------------------+
|    컨트롤 패널          |
|    (화면의 40%)         |
|                        |
|  +------------------+  |
|  | 주사위 굴리기     |  |
|  | (전체 너비의 80%) |  |
|  +------------------+  |
|                        |
|      결과: 2            |
|                        |
+------------------------+
```

### 3.4 주요 UI 컴포넌트 상세

#### 버튼 디자인
```
+----------------------------------+
|                                  |
|        🎲 주사위 굴리기           |
|                                  |
+----------------------------------+

상태별 스타일:
- Default: 밝은 배경, 진한 텍스트
- Hover: 약간 어두워짐, 커서 포인터
- Active: 눌린 효과 (약간 작아짐)
- Disabled: 회색 배경, 투명도 50%

크기:
- Desktop: 240px × 60px
- Tablet: 220px × 56px
- Mobile: 80vw × 52px (최소 280px)
```

#### 결과 표시 영역
```
+------------------+
|                  |
|     결과: 6      |
|                  |
+------------------+

스타일:
- 폰트 크기: 32px (Desktop), 28px (Mobile)
- 폰트 무게: Bold
- 색상: 진한 회색 (#333333)
- 애니메이션: Fade-in (0.3초)
```

---

## 4. 인터랙션 정의

### 4.1 주사위 굴리기 인터랙션

#### 트리거
- **마우스 클릭**: "주사위 굴리기" 버튼 클릭
- **터치**: 모바일에서 버튼 탭
- **키보드**: Enter 또는 Space 키

#### 버튼 상태 변화
1. **클릭 전 (Default)**
   - 배경색: `#4A90E2` (밝은 파란색)
   - 텍스트: "🎲 주사위 굴리기"
   - 커서: pointer
   - 애니메이션: 약간의 hover 효과

2. **클릭 시 (Active)**
   - 배경색: `#357ABD` (약간 어두운 파란색)
   - 스케일: 0.95 (살짝 눌린 효과)
   - 지속시간: 0.1초

3. **굴리는 중 (Disabled)**
   - 배경색: `#CCCCCC` (회색)
   - 텍스트: "굴리는 중..."
   - 커서: not-allowed
   - 투명도: 0.6
   - 클릭 불가

4. **굴림 완료 (Re-enabled)**
   - Default 상태로 복귀
   - 텍스트: "🎲 다시 굴리기"

### 4.2 주사위 회전 애니메이션

#### 애니메이션 단계
1. **준비 단계 (0초)**
   - 현재 주사위 상태 유지
   - 무작위 결과(1-6) 생성

2. **회전 단계 (0초 - 1.5초)**
   - X축 회전: 무작위 각도 (720° - 1440°)
   - Y축 회전: 무작위 각도 (720° - 1440°)
   - Z축 회전: 무작위 각도 (360° - 720°)
   - Easing: easeOutCubic (빠르게 시작, 천천히 종료)

3. **정착 단계 (1.5초 - 1.8초)**
   - 목표 면이 위로 향하도록 최종 회전 조정
   - Easing: easeOutQuad (부드러운 감속)

4. **완료 단계 (1.8초)**
   - 회전 멈춤
   - 결과 표시 트리거

#### 시각적 피드백
- **회전 중**:
  - 주사위: 빠른 회전
  - 조명: 동적 그림자 변화
  - 배경: 약간의 블러 효과 (선택)

- **완료 시**:
  - 주사위: 부드럽게 정지
  - 결과 텍스트: Fade-in (0.3초)
  - 미세한 바운스 효과 (선택)

### 4.3 피드백 메커니즘

#### 시각적 피드백
- ✅ 버튼 hover 시 색상 변화
- ✅ 버튼 클릭 시 스케일 변화
- ✅ 굴리는 중 버튼 비활성화 표시
- ✅ 결과 표시 시 Fade-in 애니메이션
- ✅ 포커스 상태 표시 (키보드 사용자용)

#### 상태 피드백
| 상태 | 버튼 텍스트 | 버튼 색상 | 주사위 | 결과 표시 |
|------|------------|----------|--------|----------|
| 대기 | "🎲 주사위 굴리기" | 파란색 | 정지 | 이전 결과 또는 빈값 |
| 실행 중 | "굴리는 중..." | 회색 | 회전 중 | 숨김 |
| 완료 | "🎲 다시 굴리기" | 파란색 | 정지 | 새 결과 표시 |

### 4.4 트랜지션 명세

#### CSS 트랜지션
```css
/* 버튼 */
transition:
  background-color 0.2s ease,
  transform 0.1s ease,
  opacity 0.2s ease;

/* 결과 표시 */
transition: opacity 0.3s ease-in;

/* 주사위 회전 */
duration: 1.5s
easing: cubic-bezier(0.25, 0.1, 0.25, 1)
```

---

## 5. 접근성 고려사항

### 5.1 키보드 네비게이션
- ✅ **Tab 키**: "주사위 굴리기" 버튼으로 포커스 이동
- ✅ **Enter / Space**: 버튼 활성화 (주사위 굴리기)
- ✅ **포커스 표시**:
  - 파란색 아웃라인 (2px solid #4A90E2)
  - 충분한 대비 (WCAG 2.1 AA 준수)
- ✅ **포커스 순서**:
  1. 버튼 (유일한 인터랙티브 요소)

### 5.2 스크린 리더 지원
- ✅ **버튼 레이블**:
  ```html
  <button aria-label="주사위 굴리기">
    🎲 주사위 굴리기
  </button>
  ```
- ✅ **상태 알림**:
  ```html
  <button
    aria-label="주사위 굴리기"
    aria-disabled="true"
    aria-busy="true"
  >
    굴리는 중...
  </button>
  ```
- ✅ **결과 알림**:
  ```html
  <div
    role="status"
    aria-live="polite"
    aria-atomic="true"
  >
    결과: 5
  </div>
  ```
- ✅ **시맨틱 HTML**:
  ```html
  <main>
    <section aria-label="3D 주사위 시각화">
      <!-- Three.js Canvas -->
    </section>
    <section aria-label="컨트롤 패널">
      <button>주사위 굴리기</button>
      <div role="status">결과: 5</div>
    </section>
  </main>
  ```

### 5.3 색각 이상 대응
- ✅ **색상에만 의존하지 않기**:
  - 버튼 상태를 색상 + 텍스트 + 아이콘으로 표현
  - 결과를 숫자로 명확히 표시 (색상 없이도 이해 가능)
- ✅ **충분한 색상 대비**:
  - 텍스트 대비: 최소 4.5:1 (WCAG AA)
  - 버튼: 배경과 전경 대비 7:1 이상 (AAA)
- ✅ **색상 선택**:
  - 파란색 (#4A90E2): 대부분의 색각 이상자가 인식 가능
  - 회색 (#CCCCCC): 중립적

### 5.4 모션 감소 모드
- ✅ **prefers-reduced-motion 지원**:
  ```css
  @media (prefers-reduced-motion: reduce) {
    /* 애니메이션 시간 단축 */
    .dice {
      animation-duration: 0.3s;
    }
    /* 또는 애니메이션 비활성화 */
    .dice {
      animation: none;
    }
  }
  ```
- ✅ **즉시 결과 표시 옵션**:
  - 모션 감소 모드에서는 0.3초로 단축
  - 여전히 결과는 정확하게 표시됨

### 5.5 터치 타겟 크기
- ✅ **최소 크기**: 44×44px (WCAG 2.1 AA 기준)
- ✅ **실제 크기**:
  - Desktop: 240×60px ✅
  - Tablet: 220×56px ✅
  - Mobile: 280×52px (최소) ✅
- ✅ **간격**: 버튼 주변 최소 8px 여백

---

## 6. 반응형 설계

### 6.1 Desktop (1024px 이상)

#### 레이아웃
- **3D 주사위 영역**: 화면 높이의 70%
- **컨트롤 패널**: 화면 높이의 30%
- **최대 너비**: 1200px (초대형 화면에서 중앙 정렬)

#### 컴포넌트 크기
- **버튼**: 240px × 60px
- **결과 텍스트**: 32px (font-size)
- **타이틀**: 48px (font-size)

#### 주사위 크기
- Canvas 크기: 800px × 600px (부모 컨테이너에 맞춤)
- 주사위 크기: 2 units (Three.js)
- 카메라 거리: 5 units

#### 특징
- 넓은 화면을 활용한 여유로운 레이아웃
- 마우스 호버 효과 활성화
- 큰 텍스트로 가독성 최대화

---

### 6.2 Tablet (768px - 1023px)

#### 레이아웃
- **3D 주사위 영역**: 화면 높이의 65%
- **컨트롤 패널**: 화면 높이의 35%

#### 컴포넌트 크기
- **버튼**: 220px × 56px
- **결과 텍스트**: 28px (font-size)
- **타이틀**: 40px (font-size)

#### 주사위 크기
- Canvas 크기: 부모 컨테이너에 맞춤 (가로 100%)
- 주사위 크기: 2 units (동일)
- 카메라 거리: 5 units (동일)

#### 조정사항
- 버튼 크기 약간 축소
- 텍스트 크기 소폭 감소
- 터치 인터랙션 최적화
- 가로/세로 모드 모두 지원

---

### 6.3 Mobile (320px - 767px)

#### 레이아웃
- **3D 주사위 영역**: 화면 높이의 60%
- **컨트롤 패널**: 화면 높이의 40%

#### 컴포넌트 크기
- **버튼**: 80vw (최소 280px) × 52px
- **결과 텍스트**: 24px (font-size)
- **타이틀**: 32px (font-size)

#### 주사위 크기
- Canvas 크기: 부모 컨테이너에 맞춤 (가로 100%)
- 주사위 크기: 1.8 units (약간 작게)
- 카메라 거리: 5 units (동일)

#### 조정사항
- **터치 최적화**:
  - 버튼 터치 영역 확대 (패딩 포함 최소 44px)
  - 스와이프 제스처 비활성화 (의도치 않은 동작 방지)
  - 더블 탭 줌 비활성화
- **성능 최적화**:
  - 애니메이션 품질 조정 가능
  - 그림자 효과 단순화 (선택)
- **세로 모드 우선**:
  - 주사위가 화면 상단 60%
  - 컨트롤이 하단 40%
- **가로 모드**:
  - 주사위 좌측 60%, 컨트롤 우측 40%

---

### 6.4 미디어 쿼리 구조

```css
/* Mobile First 접근 */

/* Base styles (Mobile: 320px+) */
.dice-container {
  height: 60vh;
}
.control-panel {
  height: 40vh;
}
.roll-button {
  width: 80vw;
  min-width: 280px;
  height: 52px;
  font-size: 18px;
}

/* Tablet (768px+) */
@media (min-width: 768px) {
  .dice-container {
    height: 65vh;
  }
  .control-panel {
    height: 35vh;
  }
  .roll-button {
    width: 220px;
    height: 56px;
    font-size: 20px;
  }
}

/* Desktop (1024px+) */
@media (min-width: 1024px) {
  .dice-container {
    height: 70vh;
  }
  .control-panel {
    height: 30vh;
  }
  .roll-button {
    width: 240px;
    height: 60px;
    font-size: 22px;
  }

  /* Max width for ultra-wide screens */
  .app-container {
    max-width: 1200px;
    margin: 0 auto;
  }
}

/* Landscape mode (모바일 가로) */
@media (max-width: 767px) and (orientation: landscape) {
  .app-container {
    flex-direction: row;
  }
  .dice-container {
    width: 60vw;
    height: 100vh;
  }
  .control-panel {
    width: 40vw;
    height: 100vh;
  }
}
```

---

### 6.5 반응형 주사위 렌더링

#### Canvas 크기 조정
```javascript
// Three.js 캔버스 크기 조정 로직
function updateCanvasSize() {
  const container = document.querySelector('.dice-container');
  const width = container.clientWidth;
  const height = container.clientHeight;

  camera.aspect = width / height;
  camera.updateProjectionMatrix();

  renderer.setSize(width, height);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // 성능 최적화
}

// 리사이즈 이벤트 리스너
window.addEventListener('resize', updateCanvasSize);
```

#### 디바이스별 렌더링 품질
- **Desktop**:
  - Pixel Ratio: 2x (Retina 지원)
  - Antialiasing: 활성화
  - 그림자: 고품질

- **Tablet**:
  - Pixel Ratio: 2x
  - Antialiasing: 활성화
  - 그림자: 중간 품질

- **Mobile**:
  - Pixel Ratio: 최대 2x (배터리 고려)
  - Antialiasing: 선택적 (성능에 따라)
  - 그림자: 단순화

---

### 6.6 Cross-Device Testing Checklist

#### 테스트 디바이스
- ✅ iPhone SE (320px - 최소 너비)
- ✅ iPhone 12/13/14 (390px)
- ✅ iPad (768px)
- ✅ iPad Pro (1024px)
- ✅ Desktop (1920px)
- ✅ 4K 모니터 (3840px)

#### 테스트 항목
- ✅ 주사위가 화면에 적절히 표시되는가?
- ✅ 버튼이 터치/클릭하기 쉬운가?
- ✅ 결과 텍스트가 명확하게 보이는가?
- ✅ 애니메이션이 부드러운가?
- ✅ 가로/세로 모드 전환이 자연스러운가?
- ✅ 성능 이슈는 없는가? (FPS 30+ 유지)

---

## 7. 특수 상태 및 엣지 케이스

### 7.1 로딩 상태
```
[앱 진입]
    ↓
[로딩 인디케이터 표시]
    ├─ "3D 주사위를 준비하는 중..."
    └─ 스피너 애니메이션
    ↓
[Three.js 및 모델 로딩 완료]
    ↓
[메인 화면 표시]
```

### 7.2 WebGL 미지원 에러
```
+----------------------------------+
|  ⚠️ WebGL 미지원                 |
+----------------------------------+
|                                  |
| 죄송합니다. 이 브라우저는 WebGL을 |
| 지원하지 않습니다.                 |
|                                  |
| 다음 브라우저를 사용해주세요:      |
| • Chrome (권장)                  |
| • Firefox                        |
| • Safari                         |
| • Edge                           |
|                                  |
+----------------------------------+
```

### 7.3 느린 네트워크 대응
- Three.js 라이브러리 로딩 시 Progress Bar 표시
- 타임아웃: 10초 후 에러 메시지
- 재시도 버튼 제공

---

## 8. 디자인 원칙

### 8.1 간결함 (Simplicity)
- 불필요한 요소 제거
- 주요 액션(주사위 굴리기) 하나에 집중
- 명확한 시각적 계층 구조

### 8.2 즉각적인 피드백 (Immediate Feedback)
- 버튼 클릭 시 즉시 반응
- 상태 변화가 명확히 보임
- 애니메이션으로 진행 상태 표시

### 8.3 예측 가능성 (Predictability)
- 버튼을 누르면 주사위가 굴러감
- 애니메이션 후 항상 결과 표시
- 일관된 인터랙션 패턴

### 8.4 접근 가능성 (Accessibility First)
- 모든 사용자가 사용 가능
- 키보드만으로도 완전히 조작 가능
- 스크린 리더 지원

### 8.5 즐거움 (Delight)
- 부드러운 애니메이션
- 현실감 있는 3D 렌더링
- 만족스러운 인터랙션

---

## 9. 성공 지표 (UX Metrics)

### 9.1 사용성 지표
- **학습 시간**: 첫 방문 사용자가 5초 이내에 사용법 이해
- **작업 완료 시간**: 주사위 한 번 굴리기 3초 이내
- **오류율**: 사용자 실수 0% (버튼이 하나이므로)
- **만족도**: 설문조사 5점 만점 중 4점 이상

### 9.2 성능 지표
- **초기 로딩 시간**: 3초 이내
- **프레임레이트**: 30 FPS 이상 유지
- **애니메이션 지속 시간**: 1.5-2초

### 9.3 접근성 지표
- **키보드 접근성**: 100% 기능 접근 가능
- **스크린 리더 호환성**: NVDA/JAWS 완전 지원
- **색상 대비**: WCAG 2.1 AA 기준 통과

---

## 10. 추가 개선 제안 (향후 버전)

### Phase 2 UX 개선안
1. **온보딩 툴팁**:
   - 첫 방문 시 간단한 안내 표시
   - "버튼을 클릭하거나 Space 키를 누르세요"

2. **애니메이션 속도 조절**:
   - 설정 버튼 추가 (선택)
   - 빠르게/보통/느리게 옵션

3. **결과 이력**:
   - 최근 5개 결과 표시
   - 간단한 통계 (평균, 최빈값)

4. **사운드 효과**:
   - 주사위 굴리는 소리 (ON/OFF 가능)
   - 결과 나올 때 효과음

5. **다크 모드**:
   - 시스템 설정 따라가기
   - 수동 토글 스위치

6. **공유 기능**:
   - 결과 스크린샷 저장
   - SNS 공유

---

## 문서 정보

- **버전**: 1.0
- **작성일**: 2024년
- **담당**: UX Designer Agent
- **상태**: 최종 승인 대기
- **참조 문서**: requirements.md

---

**다음 단계**: Tech Architect에게 전달하여 기술 아키텍처 설계 진행
